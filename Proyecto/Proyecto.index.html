<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plataforma Universitaria</title>
    <link rel="stylesheet" href="index.css">
   
    <!-- =======================
          VISTA DE LOGIN
    ======================== -->
    <main id="login-view">
        <section class="login-container">
            <header>
                <h1>Universitaria Central</h1>
            </header>
           
            <form id="login-form">
                <fieldset>
                    <legend>Inicio de Sesión</legend>
                   
                    <div>
                        <label for="email">Correo Electrónico:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                   
                    <div>
                        <label for="password">Contraseña:</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                   
                    <button type="submit">Ingresar</button>
                </fieldset>
            </form>
        </section>
    </main>
 
    <!-- =======================
        VISTA DE PLATAFORMA (Oculta)
    ======================== -->
    <div id="plataforma-view">
        <header>
            <h1>Plataforma Universitaria</h1>
        </header>
 
        <nav>
            <a id="nav-estudiantes" class="active">Estudiantes</a>
            <a id="nav-cursos">Cursos</a>
            <a id="nav-profesores">Profesores</a>
            <a id="nav-salir" class="logout">Salir</a>
        </nav>
 
        <main>
            <!-- Módulo de Estudiantes -->
            <section id="estudiantes-section" class="active">
                <h2>Módulo de Estudiantes</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Carné</th>
                            <th>Nombre Completo</th>
                            <th>Carrera</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>2023001</td>
                            <td>Ana García Rojas</td>
                            <td>Ingeniería de Software</td>
                            <td>ana.garcia@email.com</td>
                        </tr>
                        <tr>
                            <td>2022002</td>
                            <td>Carlos Mora Vega</td>
                            <td>Administración de Empresas</td>
                            <td>carlos.mora@email.com</td>
                        </tr>
                        <tr>
                            <td>2023003</td>
                            <td>Sofía Torres Lizano</td>
                            <td>Diseño Gráfico</td>
                            <td>sofia.torres@email.com</td>
                        </tr>
                    </tbody>
                </table>
            </section>
 
            <!-- Módulo de Cursos -->
            <section id="cursos-section">
                <h2>Módulo de Cursos</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Nombre del Curso</th>
                            <th>Créditos</th>
                            <th>Profesor Asignado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>CUR-101</td>
                            <td>Programación Web Avanzada</td>
                            <td>4</td>
                            <td>Dr. Alberto Martínez</td>
                        </tr>
                        <tr>
                            <td>CUR-102</td>
                            <td>Bases de Datos Distribuidas</td>
                            <td>4</td>
                            <td>Dra. Laura Torres</td>
                        </tr>
                        <tr>
                            <td>CUR-103</td>
                            <td>Inteligencia de Negocios</td>
                            <td>3</td>
                            <td>Dr. Carlos Rojas</td>
                        </tr>
                    </tbody>
                </table>
            </section>
 
            <!-- Módulo de Profesores -->
            <section id="profesores-section">
                <h2>Módulo de Profesores</h2>
                <table>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nombre Completo</th>
                            <th>Especialidad</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>P-001</td>
                            <td>Dr. Alberto Martínez</td>
                            <td>Desarrollo Web Full Stack</td>
                            <td>alberto.martinez@uc.ac.cr</td>
                        </tr>
                        <tr>
                            <td>P-002</td>
                            <td>Dra. Laura Torres</td>
                            <td>Big Data y Modelos Predictivos</td>
                            <td>laura.torres@uc.ac.cr</td>
                        </tr>
                        <tr>
                            <td>P-003</td>
                            <td>Dr. Carlos Rojas</td>
                            <td>Inteligencia de Negocios</td>
                            <td>carlos.rojas@uc.ac.cr</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>
 
        <footer>
            <p>&copy; 2025 Plataforma Universitaria. Todos los derechos reservados.</p>
        </footer>
    </div>
 
    <!-- =======================
            SCRIPT MODIFICADO
    ======================== -->
    <script>
            document.addEventListener("DOMContentLoaded", function() {

            const loginView = document.getElementById("login-view");
            const plataformaView = document.getElementById("plataforma-view");
            const loginForm = document.getElementById("login-form");

            // Secciones del sistema
            const sections = {
                estudiantes: document.getElementById("estudiantes-section"),
                cursos: document.getElementById("cursos-section"),
                profesores: document.getElementById("profesores-section")
            };

            // Menú de navegación
            const navLinks = {
                estudiantes: document.getElementById("nav-estudiantes"),
                cursos: document.getElementById("nav-cursos"),
                profesores: document.getElementById("nav-profesores"),
                salir: document.getElementById("nav-salir")
            };


            /* ======================================================
                 VALIDACIÓN DE FORMULARIO DE LOGIN
            ====================================================== */

            // Email
            const emailInput = document.getElementById("email");

            emailInput.addEventListener("invalid", function () {
                if (emailInput.validity.valueMissing) {
                    emailInput.setCustomValidity("Por favor ingrese su correo electrónico.");
                } else if (emailInput.validity.typeMismatch) {
                    emailInput.setCustomValidity("Ingrese un correo electrónico válido (ejemplo: usuario@correo.com).");
                }
            });

            emailInput.addEventListener("input", function () {
                emailInput.setCustomValidity("");
            });

            // Contraseña
            const passwordInput = document.getElementById("password");

            passwordInput.addEventListener("invalid", function () {
                if (passwordInput.validity.valueMissing) {
                    passwordInput.setCustomValidity("Por favor ingrese su contraseña.");
                }
            });

            passwordInput.addEventListener("input", function () {
                passwordInput.setCustomValidity("");
            });


            // Verificar si ya hay una sesión activa
            function checkExistingSession() {
                const isLoggedIn = localStorage.getItem('isLoggedIn');
                if (isLoggedIn === 'true') {
                    showView('plataforma');
                    showSection('estudiantes');
                } else {
                    showView('login');
                }
            }

            // Mostrar vista correcta
            function showView(view) {
                loginView.style.display = (view === 'login') ? 'flex' : 'none';
                plataformaView.style.display = (view === 'plataforma') ? 'block' : 'none';
            }

            // Cambiar de sección
            function showSection(sectionId) {
                Object.values(sections).forEach(sec => sec.style.display = 'none');
                Object.values(navLinks).forEach(ln => ln.classList.remove('active'));
                sections[sectionId].style.display = 'block';
                navLinks[sectionId].classList.add('active');
            }

            // Login correcto
            loginForm.addEventListener("submit", function(e) {
                e.preventDefault();
                localStorage.setItem('isLoggedIn', 'true');
                showView('plataforma');
                showSection('estudiantes');
            });

            // Eventos menú
            navLinks.estudiantes.addEventListener("click", () => showSection('estudiantes'));
            navLinks.cursos.addEventListener("click", () => showSection('cursos'));
            navLinks.profesores.addEventListener("click", () => showSection('profesores'));

            // Logout
            navLinks.salir.addEventListener("click", () => {
                localStorage.removeItem('isLoggedIn');
                showView('login');
                loginForm.reset();
            });

            // Selección de filas
            function enableRowSelection() {
                const tables = document.querySelectorAll("table");

                tables.forEach(table => {
                    const rows = table.querySelectorAll("tbody tr");

                    rows.forEach(row => {
                        row.addEventListener("click", () => {
                            rows.forEach(r => r.classList.remove("selected"));
                            row.classList.add("selected");
                        });
                    });
                });
            }

            enableRowSelection();
            checkExistingSession();
        });
    </script>

</body>
</html>
